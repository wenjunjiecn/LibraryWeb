{"remainingRequest":"D:\\library\\libraryVueWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\library\\libraryVueWeb\\src\\views\\newbook\\components\\TabPane.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\library\\libraryVueWeb\\src\\views\\newbook\\components\\TabPane.vue","mtime":1594036383656},{"path":"D:\\library\\libraryVueWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575272867830},{"path":"D:\\library\\libraryVueWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":1575272866404},{"path":"D:\\library\\libraryVueWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575272867830},{"path":"D:\\library\\libraryVueWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":1575272905142}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { fetchList } from '@/api/article'\r\nimport axios from 'axios';\r\nimport elTableInfiniteScroll from 'el-table-infinite-scroll';\r\nexport default {\r\n  directives: {\r\n      'el-table-infinite-scroll': elTableInfiniteScroll\r\n    },\r\n  data() {\r\n    return {\r\n      pageIndex:1,\r\n      list: [],\r\n\r\n      loading: false,\r\n      listLoading:true\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n    this.pageIndex=this.pageIndex+1\r\n  },\r\n  methods: {\r\n    getList() {\n      var vm=this\r\n      this.loading=false;\n      const path = 'http://127.0.0.1:5000/api/newbooks';\n            axios.get(path,{\r\n              params: {\r\n                  pageIndex: vm.pageIndex,\r\n              }\r\n            })\n              .then((res) => {\r\n\r\n                if ( res.data != 0){\r\n                  vm.pageIndex=vm.pageIndex+1;\r\n                  vm.list = vm.list.concat( res.data) ;\r\n                  vm.loading=false;\r\n                  vm.listLoading=false\r\n                  vm.$message({\r\n                          type: 'success',\r\n                          message: '加载数据成功'\r\n                        });\r\n                }\r\n                else{\r\n                  this.$message.success('无更多数据');\r\n                }\n              })\n              .catch((error) => {\n                // eslint-disable-next-line\n                console.error('出错啦！获取数据失败');\n                vm.loading=false;\n                vm.listLoading=false\n              });\r\n\r\n    },\r\n    load() {\r\n          // this.$message.success('加载下一页');\r\n          this.getList();\r\n    }\r\n  }\r\n}\r\n",null]}