{"remainingRequest":"D:\\library\\libraryVueWeb\\node_modules\\babel-loader\\lib\\index.js!D:\\library\\libraryVueWeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\library\\libraryVueWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\library\\libraryVueWeb\\src\\views\\message\\components\\ArticleDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\library\\libraryVueWeb\\src\\views\\message\\components\\ArticleDetail.vue","mtime":1594035537935},{"path":"D:\\library\\libraryVueWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575272867830},{"path":"D:\\library\\libraryVueWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":1575272866404},{"path":"D:\\library\\libraryVueWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575272867830},{"path":"D:\\library\\libraryVueWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":1575272905142},{"path":"D:\\library\\libraryVueWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575272867830},{"path":"D:\\library\\libraryVueWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":1575272866404},{"path":"D:\\library\\libraryVueWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575272867830},{"path":"D:\\library\\libraryVueWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":1575272905142}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:\\\\library\\\\libraryVueWeb\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _Sticky = _interopRequireDefault(require(\"@/components/Sticky\"));\n\nvar _user = _interopRequireDefault(require(\"../../../store/modules/user\"));\n\nvar _index = _interopRequireDefault(require(\"@/directive/permission/index.js\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// 粘性header组件\n// 权限判断指令\nvar defaultForm = {\n  status: 'draft',\n  id: _user.default.state.name,\n  content: '' // 文章内容\n\n};\nvar _default = {\n  name: 'ArticleDetail',\n  components: {\n    Sticky: _Sticky.default\n  },\n  props: {\n    isEdit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  directives: {\n    permission: _index.default\n  },\n  data: function data() {\n    return {\n      postForm: {\n        status: 'draft',\n        id: _user.default.state.name,\n        content: '' // 文章内容\n\n      },\n      rules: {\n        content: [// { max: 500, message: '最多不超过500个字符', trigger: 'blur' }\n        {\n          required: true,\n          message: '请输入留言内容',\n          trigger: 'blur'\n        }, {\n          min: 2,\n          max: 200,\n          message: '长度在 2 到 200 个字符(包含汉字)',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    submitForm: function submitForm() {\n      var _this = this;\n\n      var vm = this;\n      console.log(this.postForm);\n      this.$refs.postForm.validate(function (valid) {\n        if (valid) {\n          self = _this;\n          var path = 'http://127.0.0.1:5000/api/message/publish';\n\n          _axios.default.post(path, {\n            content: vm.postForm.content,\n            readID: vm.postForm.id\n          }).then(function (response) {\n            //  this.$refs[temp].resetFields();\n            vm.$notify({\n              title: '成功',\n              message: '发布留言成功',\n              type: 'success',\n              duration: 2000\n            });\n            vm.postForm.status = 'published';\n            self.loading = false;\n          }).catch(function (error) {\n            vm.$message({\n              type: 'info',\n              message: '发布失败'\n            });\n          });\n\n          _this.loading = false;\n        } else {\n          vm.$message({\n            type: 'info',\n            message: '发布失败，请检查输入是否完整'\n          });\n        }\n      });\n    }\n  }\n};\nexports.default = _default;",null]}